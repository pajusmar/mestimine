<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="Martin Pajuste, 19. rühm, grupp J">
<title>Bibliokirjete mestimise töövoo andmebaas</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body {
 /* font-size: 20px;  */
}
pre { font-size: 8px; }
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Bibliokirjete mestimise töövoo andmebaas</h1>
<div class="details">
<span id="author" class="author">Martin Pajuste, 19. rühm, grupp J</span><br>
<br><span id="revremark">III etapp</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Sisukord</div>
<ul class="sectlevel1">
<li><a href="#_valdkonna_ja_mõistete_kirjeldus">1. Valdkonna ja mõistete kirjeldus</a>
<ul class="sectlevel2">
<li><a href="#_sissejuhatus">1.1. Sissejuhatus</a></li>
<li><a href="#_mõistete_loetelu">1.2. Mõistete loetelu</a></li>
<li><a href="#_valdkonna_probleemid">1.3. Valdkonna probleemid</a></li>
<li><a href="#_andmebaasi_kasutajad">1.4. Andmebaasi kasutajad</a></li>
</ul>
</li>
<li><a href="#_ärireeglid_ja_nendest_tulenevad_seoste_aarsused">2. Ärireeglid ja nendest tulenevad seoste aarsused</a></li>
<li><a href="#_olem_seose_diagramm">3. Olem-seose diagramm</a></li>
<li><a href="#_mudel_relatsioonidena">4. Mudel relatsioonidena</a>
<ul class="sectlevel2">
<li><a href="#_funktsionaalsed_sõltuvused_ja_normaalkujude_kontroll">4.1. Funktsionaalsed sõltuvused ja normaalkujude kontroll</a></li>
<li><a href="#_olem_seose_mudel_teisendatuna_relatsioonilisele_kujule">4.2. Olem-seose mudel teisendatuna relatsioonilisele kujule</a></li>
</ul>
</li>
<li><a href="#_andmebaasi_loomine_ja_päringud">5. Andmebaasi loomine ja päringud</a>
<ul class="sectlevel2">
<li><a href="#_andmebaasi_loomine">5.1. Andmebaasi loomine</a></li>
<li><a href="#_näidispäringud">5.2. Näidispäringud</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_valdkonna_ja_mõistete_kirjeldus"><a class="anchor" href="#_valdkonna_ja_mõistete_kirjeldus"></a><a class="link" href="#_valdkonna_ja_mõistete_kirjeldus">1. Valdkonna ja mõistete kirjeldus</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_sissejuhatus"><a class="anchor" href="#_sissejuhatus"></a><a class="link" href="#_sissejuhatus">1.1. Sissejuhatus</a></h3>
<div class="paragraph">
<p>Andmebaas on seotud raamatukogundusega, täpsemalt <a href="#kataloog">kataloogi</a> korrastamisega.</p>
</div>
<div class="paragraph">
<p>Mõningad järgnevatest mõistetest omavad tähendust ka väljaspool valdkonda, kuid neid tähendusi ei ole esitatud.</p>
</div>
<div class="paragraph">
<p>Käesolevas dokumendis kasutatakse sünonüümidena sõnasid kirje ja bibliokirje.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mõistete_loetelu"><a class="anchor" href="#_mõistete_loetelu"></a><a class="link" href="#_mõistete_loetelu">1.2. Mõistete loetelu</a></h3>
<div class="dlist">
<dl>
<dt class="hdlist1">aluskirje</dt>
<dd>
<p>kahest mestitavast kirjest allesjääv, vajadusel täiendatakse seda liituvast kirjest päritoleva infoga</p>
</dd>
<dt class="hdlist1">bibliokirje</dt>
<dd>
<p>reeglipäraselt esitatud bibliograafiaandmete kogum, mis võimaldab kirjeldatavat dokumenti täielikult identifitseerida <sup class="footnote" id="_footnote_624175">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</dd>
<dt class="hdlist1">elektronkataloog<a id="elektronkataloog"></a></dt>
<dd>
<p>ühe või mitme raamatukogu kogusid peegeldav interaktiivne arvutipõhine andmebaas; sageli integreeritud raamatukogusüsteemi osa <sup class="footnote" id="_footnote_625652">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></p>
</dd>
<dt class="hdlist1">eksemplar</dt>
<dd>
<p>sama trükise iga üksik teisik <sup class="footnote" id="_footnote_622950">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup></p>
</dd>
<dt class="hdlist1">integreeritud raamatukogusüsteem (IRS)<a id="IRS"></a></dt>
<dd>
<p>arvutipõhine raamatukogusüsteem, mis koosneb suhteliselt iseseisvatest alamsüsteemidest e moodulitest mingi tegevuste rühma jaoks (nt kataloogimismoodul, laenumoodul, e-kataloog) <sup class="footnote" id="_footnote_625737">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup></p>
</dd>
<dt class="hdlist1">rahvusvaheline raamatu standardnumber (ISBN)<a id="ISBN"></a></dt>
<dd>
<p>Rahvusvaheline raamatu standardnumber; kümnekohaline numberkood, mis sisaldab kontrollnumbrit ja millele eelneb suurtähtlühend ISBN.
ISBN identifitseerib ainuliselt teose ühe trüki, mille on välja andnud üks teatud kirjastaja.
ISBNi annab rahvuslik ISBNi agentuur ja see number põhineb rahvusvahelisel standardil EVS-ISO 2108. <sup class="footnote" id="_footnote_623945">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup></p>
</dd>
<dt class="hdlist1">kataloog<a id="kataloog"></a></dt>
<dd>
<p>raamatukogus leiduvaid teavikuid kirjeldav süsteemne andmekogu <sup class="footnote" id="_footnote_622797">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup></p>
</dd>
<dt class="hdlist1">kataloogija</dt>
<dd>
<p>isik, kes tegeleb <a href="#kataloogima">kataloogimisega</a></p>
</dd>
<dt class="hdlist1">kataloogima<a id="kataloogima"></a></dt>
<dd>
<p>kataloogi jaoks kirjeid koostama ning katalooge koostama ja hooldama <sup class="footnote" id="_footnote_622798">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup></p>
</dd>
<dt class="hdlist1">liituv kirje</dt>
<dd>
<p>võimaliku topeltkirjena tuvastatud kirje, millest võib mestimisel lisanduda aluskirjesse infot</p>
</dd>
<dt class="hdlist1">MARC-in-JSON<a id="MARC-in-JSON"></a></dt>
<dd>
<p>väljapakutud JSON-skeem MARC-kirjete JSON-vormingus esitamiseks <sup class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnotedef_8" title="View footnote.">8</a>]</sup></p>
</dd>
<dt class="hdlist1">MARC</dt>
<dd>
<p>Ameerika Ühendriikide Kongressi raamatukogu poolt hallatav standard, mida kasutatakse bibliograafiliste ning seotud andmete masinloetaval kujul esitamiseks ja edastamiseks <sup class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnotedef_9" title="View footnote.">9</a>]</sup></p>
</dd>
<dt class="hdlist1">mestima</dt>
<dd>
<p>andmekogumeid kokku liitma <sup class="footnote" id="_footnote_625890">[<a id="_footnoteref_10" class="footnote" href="#_footnotedef_10" title="View footnote.">10</a>]</sup></p>
</dd>
<dt class="hdlist1">raamatukogu infosüsteem</dt>
<dd>
<p>vaata <a href="#IRS">integreeritud raamatukogusüsteem</a></p>
</dd>
<dt class="hdlist1">raamatukoguhoidja</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>raamatukogunduslik elukutse, raamatukoguhoidja töö on kujundada inimeste lugemisharjumusi, toetada elukestvat õpet ja tagada ligipääs informatsioonile, teadmistele ja kultuurile ning toetada teadus-, loome- ja arendustegevust <sup class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnotedef_11" title="View footnote.">11</a>]</sup></p>
</li>
<li>
<p>vastav ametikoht raamatukogus <sup class="footnote" id="_footnote_622775">[<a id="_footnoteref_12" class="footnote" href="#_footnotedef_12" title="View footnote.">12</a>]</sup></p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">raamatukoguvõrk</dt>
<dd>
<p>territoriaalse v haldusliku ühtekuuluvuse, raamatukogutüübi vm alusel moodustunud raamatukogude süsteem <sup class="footnote" id="_footnote_622873">[<a id="_footnoteref_13" class="footnote" href="#_footnotedef_13" title="View footnote.">13</a>]</sup></p>
</dd>
<dt class="hdlist1">teavik<a id="teavik"></a></dt>
<dd>
<p>mis tahes materiaalne objekt, millele on talletatud informatsioon, nt trükis, foto, heliplaat, kompaktketas <sup class="footnote" id="_footnote_623410">[<a id="_footnoteref_14" class="footnote" href="#_footnotedef_14" title="View footnote.">14</a>]</sup></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_valdkonna_probleemid"><a class="anchor" href="#_valdkonna_probleemid"></a><a class="link" href="#_valdkonna_probleemid">1.3. Valdkonna probleemid</a></h3>
<div class="paragraph">
<p>Raamatukoguvõrguga on aastate jooksul liitunud nii ülikoolide, riiklikud kui ka rahvaraamatukogud.
Iga uus liituja toob endaga kaasa veidi erineva kirjelduse mõnest varasemalt olemasolevast teavikust.
Lähtuvalt kirjete loomise detailsusest ja võimalikest vastuoludest kirjetes, ei ole raamatukogu infosüsteemis olnud võimalik sama teavikut kirjeldavaid bibliokirjeid automaatselt mestida.
Suurem probleem on just vanemate teavikutega, millel puudub ISBN.</p>
</div>
<div class="paragraph">
<p>Raamatukogudele on oluline andmete korrastatus, kuid tööd raskendab asjaolu, et aja jooksul, mil on kasutusel olnud ühtne elektronkataloog, on mitu korda muutunud kataloogimisreeglid.
Arvestades, et bibliokirjeid on praegusel hetkel ligikaudu 3 460 000, on kataloogijate pingutustest hoolimata siiski kirjeid, mis peegeldavad erinevate aegade iseärasusi.</p>
</div>
<div class="paragraph">
<p>Iga nimetuse kohta peaks olema üks kirje, mille juurde käivad erinevad eksemplarid.
Lugeja jaoks on elektronkataloogis leiduvad sama teaviku mitmekordsed kirjeldused segadust tekitavad.
Tihtipeale jääb arusaamatuks, kas ja kust raamatukogust soovitud teaviku leida võib.</p>
</div>
</div>
<div class="sect2">
<h3 id="_andmebaasi_kasutajad"><a class="anchor" href="#_andmebaasi_kasutajad"></a><a class="link" href="#_andmebaasi_kasutajad">1.4. Andmebaasi kasutajad</a></h3>
<div class="paragraph">
<p>Peamised kasutajad on raamatukoguhoidjad, kes kontrollivad välise süsteemi poolt genereeritud mestitavate paaride sobivust lükates kõrvale valepositiivsed.
Eelisjärjekorras nähakse kataloogimisele spetsialiseerunud raamatukoguhoidjaid, kes tunnevad hästi MARC standardit ning raamatukoguvõrgus kokkulepitud kataloogimisreegleid.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ärireeglid_ja_nendest_tulenevad_seoste_aarsused"><a class="anchor" href="#_ärireeglid_ja_nendest_tulenevad_seoste_aarsused"></a><a class="link" href="#_ärireeglid_ja_nendest_tulenevad_seoste_aarsused">2. Ärireeglid ja nendest tulenevad seoste aarsused</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Kasutaja autendib ennast kasutades integreeritud raamatukogusüsteemi kasutajanime ja parooli.</p>
</li>
<li>
<p>Igal Tegevusel on üks TegevuseTüüp, sama tüüpi Tegevusi saab sooritada 0 või enam. (1:n)</p>
</li>
<li>
<p>Süsteemis logitakse Paariga tehtavad Tegevused.
Üks Kasutaja saab sooritada 0 või enam Tegevust, kuid iga konkreetne Tegevus on sooritatud kindla Kasutaja poolt. (1:n)</p>
</li>
<li>
<p>Mestimist vajava Paariga võib olla sooritatud 0 või enam Tegevust. (1:n)</p>
</li>
<li>
<p>Kontrollimaks antud Paari sobivust mestimiseks on määratud Reeglid, millele valitud Paar peab vastama.</p>
</li>
<li>
<p>Paari vastuolu Reegliga märgitakse Vastuoluga.
Iga Vastuolu on seotud ühe kindla Paariga, Paaril võib olla 0 või enam Vastuolu. (1:n)</p>
</li>
<li>
<p>Iga Vastuolu tähistab ühe kindla Reegli rikkumist, sama Reegli rikkumist võib näidata 0 või enam Vastuolu. (1:n)</p>
</li>
<li>
<p>Kirjet ei saa iseendaga mestida.</p>
</li>
<li>
<p>Üks Kirje võib esineda 0 või enamas Paaris nii alus- kui liituva kirjena. (1:n)</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_olem_seose_diagramm"><a class="anchor" href="#_olem_seose_diagramm"></a><a class="link" href="#_olem_seose_diagramm">3. Olem-seose diagramm</a></h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="ER_est.png" alt="Diagram" width="851" height="347">
</div>
<div class="title">Joonis 1. Olem-seose diagramm</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Olem "Kasutaja" sisaldab IRS kasutajate kasutajanimesid.
Paroole ei salvestata.</p>
</li>
<li>
<p>Olem "Tegevus" sisaldab infot paaridega sooritatud toimingute kohta.</p>
</li>
<li>
<p>Olem "TegevuseTyyp" sisaldab infot süsteemis sooritatavate tegevuste tüüpidest.</p>
</li>
<li>
<p>Olem "Paar" sisaldab infot mestimiskandidaatide kohta: kirjenumbrid ning numbrilised suurused kirjete tekstilise sarnasuse väljendamiseks.</p>
</li>
<li>
<p>Olem "Kirje" sisaldab integreeritud raamatukogusüsteemi kirjenumbrit, kirjes sisalduvat teavet JSON (<a href="#MARC-in-JSON">MARC-in-JSON</a>) kujul ning metaandmeid.</p>
</li>
<li>
<p>Olem "Vastuolu" sisaldab infot paaride vastuoludest reeglitega.</p>
</li>
<li>
<p>Olem "Reegel" sisaldab reegleid, millele peavad mestimiseks kõlblikud paarid vastama.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mudel_relatsioonidena"><a class="anchor" href="#_mudel_relatsioonidena"></a><a class="link" href="#_mudel_relatsioonidena">4. Mudel relatsioonidena</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_funktsionaalsed_sõltuvused_ja_normaalkujude_kontroll"><a class="anchor" href="#_funktsionaalsed_sõltuvused_ja_normaalkujude_kontroll"></a><a class="link" href="#_funktsionaalsed_sõltuvused_ja_normaalkujude_kontroll">4.1. Funktsionaalsed sõltuvused ja normaalkujude kontroll</a></h3>
<div class="sect3">
<h4 id="_kasutaja"><a class="anchor" href="#_kasutaja"></a><a class="link" href="#_kasutaja">4.1.1. Kasutaja</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Kasutaja (<span class="underline">kasutajanimi</span>)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju"><a class="anchor" href="#_3_normaalkuju"></a><a class="link" href="#_3_normaalkuju">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult atomaarse väärtusega üheatribuudiline primaarvõti.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tegevusetyyp"><a class="anchor" href="#_tegevusetyyp"></a><a class="link" href="#_tegevusetyyp">4.1.2. TegevuseTyyp</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>TegevuseTyyp (<span class="underline">nimi</span>)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju_2"><a class="anchor" href="#_3_normaalkuju_2"></a><a class="link" href="#_3_normaalkuju_2">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult atomaarse väärtusega üheatribuudiline primaarvõti.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tegevus"><a class="anchor" href="#_tegevus"></a><a class="link" href="#_tegevus">4.1.3. Tegevus</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Tegevus (<span class="underline">paar</span>, <span class="underline">tegevusetyyp</span>, <span class="underline">kasutaja</span>, <span class="underline">toimumisaeg</span>, kommentaar)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_funktsionaalsed_sõltuvused"><a class="anchor" href="#_funktsionaalsed_sõltuvused"></a><a class="link" href="#_funktsionaalsed_sõltuvused">Funktsionaalsed sõltuvused</a></h5>
<div class="ulist circle">
<ul class="circle">
<li>
<p>paar, tegevusetyyp, kasutaja, toimumisaeg → kommentaar</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_1_normaalkuju"><a class="anchor" href="#_1_normaalkuju"></a><a class="link" href="#_1_normaalkuju">1. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ei ole mitmeväärtuselisi atribuute.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_normaalkuju"><a class="anchor" href="#_2_normaalkuju"></a><a class="link" href="#_2_normaalkuju">2. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Sekundaarne atribuut ei sõltu võtme alamhulgast.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju_3"><a class="anchor" href="#_3_normaalkuju_3"></a><a class="link" href="#_3_normaalkuju_3">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult üks funktsionaalne sõltuvus, transitiivseid sõltuvusi ei ole.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_paar"><a class="anchor" href="#_paar"></a><a class="link" href="#_paar">4.1.4. Paar</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Paar (<span class="underline">aluskirje</span>, <span class="underline">liituv_kirje</span>, sarnasus, ylekate, kaugus)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_funktsionaalsed_sõltuvused_2"><a class="anchor" href="#_funktsionaalsed_sõltuvused_2"></a><a class="link" href="#_funktsionaalsed_sõltuvused_2">Funktsionaalsed sõltuvused</a></h5>
<div class="ulist circle">
<ul class="circle">
<li>
<p>aluskirje, liituv_kirje &#8594; sarnasus, ylekate, kaugus</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_1_normaalkuju_2"><a class="anchor" href="#_1_normaalkuju_2"></a><a class="link" href="#_1_normaalkuju_2">1. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ei ole mitmeväärtuselisi atribuute.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_normaalkuju_2"><a class="anchor" href="#_2_normaalkuju_2"></a><a class="link" href="#_2_normaalkuju_2">2. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ükski sekundaarne atribuut ei sõltu võtme alamhulgast.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju_4"><a class="anchor" href="#_3_normaalkuju_4"></a><a class="link" href="#_3_normaalkuju_4">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult üks funktsionaalne sõltuvus, transitiivseid sõltuvusi ei ole.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_kirje"><a class="anchor" href="#_kirje"></a><a class="link" href="#_kirje">4.1.5. Kirje</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Kirje (<span class="underline">kirje_nr</span>, bkood2, bkood3, keel, viimane_uuendus, sisu)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_funktsionaalsed_sõltuvused_3"><a class="anchor" href="#_funktsionaalsed_sõltuvused_3"></a><a class="link" href="#_funktsionaalsed_sõltuvused_3">Funktsionaalsed sõltuvused</a></h5>
<div class="ulist circle">
<ul class="circle">
<li>
<p>kirje_nr &#8594; bkood2, bkood3, keel, viimane_uuendus, sisu</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_1_normaalkuju_3"><a class="anchor" href="#_1_normaalkuju_3"></a><a class="link" href="#_1_normaalkuju_3">1. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ei ole mitmeväärtuselisi atribuute.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_normaalkuju_3"><a class="anchor" href="#_2_normaalkuju_3"></a><a class="link" href="#_2_normaalkuju_3">2. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ükski sekundaarne atribuut ei sõltu võtme alamhulgast.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju_5"><a class="anchor" href="#_3_normaalkuju_5"></a><a class="link" href="#_3_normaalkuju_5">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult üks funktsionaalne sõltuvus, transitiivseid sõltuvusi ei ole.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_vastuolu"><a class="anchor" href="#_vastuolu"></a><a class="link" href="#_vastuolu">4.1.6. Vastuolu</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Vastuolu (<span class="underline">reegel</span>, <span class="underline">paar</span>, info)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_funktsionaalsed_sõltuvused_4"><a class="anchor" href="#_funktsionaalsed_sõltuvused_4"></a><a class="link" href="#_funktsionaalsed_sõltuvused_4">Funktsionaalsed sõltuvused</a></h5>
<div class="ulist circle">
<ul class="circle">
<li>
<p>reegel, paar &#8594; info</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_1_normaalkuju_4"><a class="anchor" href="#_1_normaalkuju_4"></a><a class="link" href="#_1_normaalkuju_4">1. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ei ole mitmeväärtuselisi atribuute.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_normaalkuju_4"><a class="anchor" href="#_2_normaalkuju_4"></a><a class="link" href="#_2_normaalkuju_4">2. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Sekundaarne atribuut ei sõltu võtme alamhulgast.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju_6"><a class="anchor" href="#_3_normaalkuju_6"></a><a class="link" href="#_3_normaalkuju_6">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult üks funktsionaalne sõltuvus, transitiivseid sõltuvusi ei ole.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reegel"><a class="anchor" href="#_reegel"></a><a class="link" href="#_reegel">4.1.7. Reegel</a></h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Reegel (<span class="underline">marc_vali</span>, <span class="underline">alamvali</span>, kommentaar)</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_funktsionaalsed_sõltuvused_5"><a class="anchor" href="#_funktsionaalsed_sõltuvused_5"></a><a class="link" href="#_funktsionaalsed_sõltuvused_5">Funktsionaalsed sõltuvused</a></h5>
<div class="ulist circle">
<ul class="circle">
<li>
<p>marc_vali, alamvali &#8594; kommentaar</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_1_normaalkuju_5"><a class="anchor" href="#_1_normaalkuju_5"></a><a class="link" href="#_1_normaalkuju_5">1. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Ei ole mitmeväärtuselisi atribuute.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_2_normaalkuju_5"><a class="anchor" href="#_2_normaalkuju_5"></a><a class="link" href="#_2_normaalkuju_5">2. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Sekundaarne atribuut ei sõltu võtme alamhulgast.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_3_normaalkuju_7"><a class="anchor" href="#_3_normaalkuju_7"></a><a class="link" href="#_3_normaalkuju_7">3. normaalkuju</a></h5>
<div class="ulist checklist">
<ul class="checklist">
<li>
<p><i class="fa fa-check-square-o"></i> Relatsioonis on ainult üks funktsionaalne sõltuvus, transitiivseid sõltuvusi ei ole.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_olem_seose_mudel_teisendatuna_relatsioonilisele_kujule"><a class="anchor" href="#_olem_seose_mudel_teisendatuna_relatsioonilisele_kujule"></a><a class="link" href="#_olem_seose_mudel_teisendatuna_relatsioonilisele_kujule">4.2. Olem-seose mudel teisendatuna relatsioonilisele kujule</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Olemitele, mille võtmeks on tekstiline tunnus või mille võti koosneb mitmest tunnusest, on lisatud kunstlik võti.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="ER_est_rel.png" alt="Diagram" width="862" height="574">
</div>
<div class="title">Joonis 2. Relatsioonilisele kujule teisendatud mudel</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_andmebaasi_loomine_ja_päringud"><a class="anchor" href="#_andmebaasi_loomine_ja_päringud"></a><a class="link" href="#_andmebaasi_loomine_ja_päringud">5. Andmebaasi loomine ja päringud</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_andmebaasi_loomine"><a class="anchor" href="#_andmebaasi_loomine"></a><a class="link" href="#_andmebaasi_loomine">5.1. Andmebaasi loomine</a></h3>
<div class="paragraph">
<p>Andmebaasi loomiseks vajalikud SQL-laused on käsitsi kirjutatud, seega ühestki graafilise mudeli koostamise vahendist eksporditud koodi muuta ei olnud vaja.</p>
</div>
<div class="paragraph">
<p>Mahukama projekti puhul kindlasti sellist käsitööd teha ei kannata.</p>
</div>
<div class="sect3">
<h4 id="_tabelite_loomine_ja_kitsendused"><a class="anchor" href="#_tabelite_loomine_ja_kitsendused"></a><a class="link" href="#_tabelite_loomine_ja_kitsendused">5.1.1. Tabelite loomine ja kitsendused</a></h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
</pre></td>
  <td class="code"><pre>
<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.reegel
(
    reegel_id  <span style="color:#0a8;font-weight:bold">smallint</span>    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    marc_vali  <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">16</span>) <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    alamvali   <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">1</span>)  <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    kommentaar <span style="color:#0a8;font-weight:bold">text</span>        <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> reegel_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (reegel_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> reegel_marc_vali_alamvali_ak
        <span style="color:#088;font-weight:bold">UNIQUE</span> (marc_vali, alamvali)
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> public.reegel <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Mestimisreeglid.</span><span style="color:#710">'</span></span>;

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.kirje
(
    kirje_nr        <span style="color:#0a8;font-weight:bold">integer</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    bkood2          <span style="color:#0a8;font-weight:bold">char</span>    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    bkood3          <span style="color:#0a8;font-weight:bold">char</span>    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    keel            <span style="color:#0a8;font-weight:bold">char</span>(<span style="color:#00D">3</span>) <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    viimane_uuendus <span style="color:#0a8;font-weight:bold">date</span>    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    sisu            jsonb   <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> kirje_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (kirje_nr)
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> public.kirje <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Bibkirjed.</span><span style="color:#710">'</span></span>;

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.paar
(
    paar_id      serial,
    aluskirje    <span style="color:#0a8;font-weight:bold">integer</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    liituv_kirje <span style="color:#0a8;font-weight:bold">integer</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    sarnasus     real    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    ylekate      real    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    kaugus       <span style="color:#0a8;font-weight:bold">integer</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> paar_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (paar_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> paar_aluskirje_liituv_kirje_ak
        <span style="color:#088;font-weight:bold">UNIQUE</span> (aluskirje, liituv_kirje),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> paar_kirje_aluskirje_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (aluskirje) <span style="color:#080;font-weight:bold">REFERENCES</span> kirje
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> RESTRICT,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> paar_kirje_liituv_kirje_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (liituv_kirje) <span style="color:#080;font-weight:bold">REFERENCES</span> kirje
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> RESTRICT,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> check_aluskirje_vaiksem
        <span style="color:#080;font-weight:bold">CHECK</span> (aluskirje &lt; liituv_kirje)
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> paar <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Mestimiskandidaadid.</span><span style="color:#710">'</span></span>;

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.kasutaja
(
    kasutaja_id  serial,
    kasutajanimi <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">255</span>) <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> kasutaja_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (kasutaja_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> kasutaja_kasutajanimi_ak
        <span style="color:#088;font-weight:bold">UNIQUE</span> (kasutajanimi)
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> public.kasutaja <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">IRS kasutajad.</span><span style="color:#710">'</span></span>;
<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">COLUMN</span> public.kasutaja.kasutajanimi <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">IRS kasutajanime pikkus on kuni 255 tähemärki.</span><span style="color:#710">'</span></span>;


<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.tegevusetyyp
(
    tegevusetyyp_id <span style="color:#0a8;font-weight:bold">smallint</span>    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    nimi            <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">64</span>) <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevusetyyp_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (tegevusetyyp_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevusetyyp_nimi_ak
        <span style="color:#088;font-weight:bold">UNIQUE</span> (nimi)
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> public.tegevusetyyp <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Tegevuse tüüp.</span><span style="color:#710">'</span></span>;

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.vastuolu
(
    vastuolu_id serial,
    reegel_id   <span style="color:#0a8;font-weight:bold">smallint</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    paar_id     <span style="color:#0a8;font-weight:bold">integer</span>  <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    info        jsonb    <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> vastuolu_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (vastuolu_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> vastuolu_reegel_paar_ak
        <span style="color:#088;font-weight:bold">UNIQUE</span> (reegel_id, paar_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> vastuolu_reegel_reegel_id_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (reegel_id) <span style="color:#080;font-weight:bold">REFERENCES</span> public.reegel
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> RESTRICT,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> vastuolu_paar_paar_id_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (paar_id) <span style="color:#080;font-weight:bold">REFERENCES</span> public.paar
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> <span style="color:#088;font-weight:bold">CASCADE</span>
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> public.vastuolu <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Kirjepaaride vastuolud mestimisreeglitega.</span><span style="color:#710">'</span></span>;

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">TABLE</span> <span style="color:#080;font-weight:bold">IF</span> <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#080;font-weight:bold">EXISTS</span> public.tegevus
(
    tegevuse_id     serial,
    paar_id         <span style="color:#0a8;font-weight:bold">integer</span>                               <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    tegevusetyyp_id <span style="color:#0a8;font-weight:bold">smallint</span>                              <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    kasutaja_id     <span style="color:#0a8;font-weight:bold">integer</span>                               <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    toimumisaeg     timestamptz <span style="color:#088;font-weight:bold">DEFAULT</span> CURRENT_TIMESTAMP <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    kommentaar      <span style="color:#0a8;font-weight:bold">text</span>                                  <span style="color:#080;font-weight:bold">NOT</span> <span style="color:#069">NULL</span>,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevus_pk
        <span style="color:#088;font-weight:bold">PRIMARY</span> <span style="color:#339;font-weight:bold">KEY</span> (tegevuse_id),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevus_ak
        <span style="color:#088;font-weight:bold">UNIQUE</span> (paar_id, tegevusetyyp_id, kasutaja_id, toimumisaeg),
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevus_paar_paar_id_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (paar_id) <span style="color:#080;font-weight:bold">REFERENCES</span> public.paar
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> RESTRICT,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevus_kasutaja_kasutaja_id_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (kasutaja_id) <span style="color:#080;font-weight:bold">REFERENCES</span> public.kasutaja
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> RESTRICT,
    <span style="color:#339;font-weight:bold">CONSTRAINT</span> tegevus_tegevusetyyp_tegevusetyyp_id_fk
        <span style="color:#088;font-weight:bold">FOREIGN</span> <span style="color:#339;font-weight:bold">KEY</span> (tegevusetyyp_id) <span style="color:#080;font-weight:bold">REFERENCES</span> public.tegevusetyyp
            <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">UPDATE</span> RESTRICT <span style="color:#080;font-weight:bold">ON</span> <span style="color:#B06;font-weight:bold">DELETE</span> RESTRICT
);

<span style="color:#B06;font-weight:bold">COMMENT</span> <span style="color:#080;font-weight:bold">ON</span> <span style="color:#339;font-weight:bold">TABLE</span> public.tegevus <span style="color:#080;font-weight:bold">IS</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Kasutajate süsteemis sooritatud toimingute logi.</span><span style="color:#710">'</span></span>;
</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_vaadete_loomine"><a class="anchor" href="#_vaadete_loomine"></a><a class="link" href="#_vaadete_loomine">5.1.2. Vaadete loomine</a></h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td>
  <td class="code"><pre>
<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#339;font-weight:bold">VIEW</span> v_tegevused <span style="color:#080;font-weight:bold">AS</span>
<span style="color:#B06;font-weight:bold">SELECT</span> p.paar_id,
       p.aluskirje,
       p.liituv_kirje,
       ARRAY_AGG(<span style="color:#080;font-weight:bold">DISTINCT</span> t.tegevusetyyp_id)                                              <span style="color:#080;font-weight:bold">AS</span> sooritatud_tegevused,
       ARRAY_AGG(<span style="color:#080;font-weight:bold">DISTINCT</span> t.tegevusetyyp_id) FILTER ( <span style="color:#080;font-weight:bold">WHERE</span> t.tegevusetyyp_id <span style="color:#080;font-weight:bold">IN</span> (<span style="color:#00D">1</span>, <span style="color:#00D">2</span>) ) <span style="color:#080;font-weight:bold">AS</span> kas_mestida
<span style="color:#080;font-weight:bold">FROM</span> paar p
         <span style="color:#080;font-weight:bold">LEFT</span> <span style="color:#080;font-weight:bold">JOIN</span> tegevus t <span style="color:#080;font-weight:bold">USING</span> (paar_id)
<span style="color:#080;font-weight:bold">GROUP</span> <span style="color:#080;font-weight:bold">BY</span> p.paar_id;

<span style="color:#B06;font-weight:bold">CREATE</span> MATERIALIZED <span style="color:#339;font-weight:bold">VIEW</span> mv_paarid <span style="color:#080;font-weight:bold">AS</span>
<span style="color:#B06;font-weight:bold">SELECT</span> p.paar_id,
       p.aluskirje,
       p.liituv_kirje,
       p.sarnasus,
       p.ylekate,
       p.kaugus,
       <span style="color:#369;font-weight:bold">COUNT</span>(v.vastuolu_id)            <span style="color:#080;font-weight:bold">AS</span> vastuolude_arv,
       ARRAY_AGG(<span style="color:#080;font-weight:bold">DISTINCT</span> r.marc_vali) <span style="color:#080;font-weight:bold">AS</span> vastuoludega_valjad
<span style="color:#080;font-weight:bold">FROM</span> paar p
         <span style="color:#080;font-weight:bold">JOIN</span> vastuolu v <span style="color:#080;font-weight:bold">USING</span> (paar_id)
         <span style="color:#080;font-weight:bold">JOIN</span> reegel r <span style="color:#080;font-weight:bold">USING</span> (reegel_id)
<span style="color:#080;font-weight:bold">GROUP</span> <span style="color:#080;font-weight:bold">BY</span> p.paar_id;
</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_funktsioonide_loomine"><a class="anchor" href="#_funktsioonide_loomine"></a><a class="link" href="#_funktsioonide_loomine">5.1.3. Funktsioonide loomine</a></h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td>
  <td class="code"><pre>
<span style="color:#777">-- Inspiratsiooniks kasutatud allikad:</span>
<span style="color:#777">-- https://www.postgresql.org/docs/current/queries-with.html#QUERIES-WITH-RECURSIVE</span>
<span style="color:#777">-- https://www.postgresql.org/docs/current/queries-table-expressions.html#QUERIES-LATERAL</span>
<span style="color:#777">-- https://stackoverflow.com/a/37382147/1245497</span>

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#080;font-weight:bold">OR</span> <span style="color:#B06;font-weight:bold">REPLACE</span> <span style="color:#339;font-weight:bold">FUNCTION</span> f_seotud_kirjed(kirjenumber_in <span style="color:#0a8;font-weight:bold">integer</span>)
    RETURNS <span style="color:#339;font-weight:bold">TABLE</span>
            (
                kirjenumber <span style="color:#0a8;font-weight:bold">integer</span>
            )
    LANGUAGE sql
<span style="color:#080;font-weight:bold">AS</span>
<span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">$</span>
WITH RECURSIVE graph(num) <span style="color:#080;font-weight:bold">AS</span>
                   (<span style="color:#B06;font-weight:bold">SELECT</span> ARRAY(<span style="color:#B06;font-weight:bold">SELECT</span> <span style="color:#080;font-weight:bold">DISTINCT</span> liituv_kirje
                                 <span style="color:#080;font-weight:bold">FROM</span> paar
                                 <span style="color:#080;font-weight:bold">WHERE</span> aluskirje = kirjenumber_in)
                    <span style="color:#080;font-weight:bold">UNION</span> <span style="color:#080;font-weight:bold">ALL</span>
                    <span style="color:#B06;font-weight:bold">SELECT</span> g.num || e1.p || e2.p
                    <span style="color:#080;font-weight:bold">FROM</span> graph g
                             <span style="color:#080;font-weight:bold">LEFT</span> <span style="color:#080;font-weight:bold">JOIN</span> LATERAL (
                        <span style="color:#B06;font-weight:bold">SELECT</span> ARRAY(
                                       <span style="color:#B06;font-weight:bold">SELECT</span> <span style="color:#080;font-weight:bold">DISTINCT</span> liituv_kirje
                                       <span style="color:#080;font-weight:bold">FROM</span> paar
                                       <span style="color:#080;font-weight:bold">WHERE</span> aluskirje = <span style="color:#080;font-weight:bold">ANY</span> (g.num)
                                         <span style="color:#080;font-weight:bold">AND</span> liituv_kirje &lt;&gt; <span style="color:#080;font-weight:bold">ALL</span> (g.num)
                                         <span style="color:#080;font-weight:bold">AND</span> liituv_kirje &lt;&gt; kirjenumber_in) <span style="color:#080;font-weight:bold">AS</span> p) e1 <span style="color:#080;font-weight:bold">ON</span> (<span style="color:#069">TRUE</span>)
                             <span style="color:#080;font-weight:bold">LEFT</span> <span style="color:#080;font-weight:bold">JOIN</span> LATERAL (
                        <span style="color:#B06;font-weight:bold">SELECT</span> ARRAY(
                                       <span style="color:#B06;font-weight:bold">SELECT</span> <span style="color:#080;font-weight:bold">DISTINCT</span> aluskirje
                                       <span style="color:#080;font-weight:bold">FROM</span> paar
                                       <span style="color:#080;font-weight:bold">WHERE</span> liituv_kirje = <span style="color:#080;font-weight:bold">ANY</span> (g.num)
                                         <span style="color:#080;font-weight:bold">AND</span> aluskirje &lt;&gt; <span style="color:#080;font-weight:bold">ALL</span> (g.num)
                                         <span style="color:#080;font-weight:bold">AND</span> aluskirje &lt;&gt; kirjenumber_in) <span style="color:#080;font-weight:bold">AS</span> p) e2 <span style="color:#080;font-weight:bold">ON</span> (<span style="color:#069">TRUE</span>)
                    <span style="color:#080;font-weight:bold">WHERE</span> e1.p &lt;&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">{}</span><span style="color:#710">'</span></span>
                       <span style="color:#080;font-weight:bold">OR</span> e2.p &lt;&gt; <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">{}</span><span style="color:#710">'</span></span>)
<span style="color:#B06;font-weight:bold">SELECT</span> <span style="color:#080;font-weight:bold">DISTINCT</span> UNNEST(num)
<span style="color:#080;font-weight:bold">FROM</span> graph
<span style="color:#080;font-weight:bold">ORDER</span> <span style="color:#080;font-weight:bold">BY</span> <span style="color:#00D">1</span>;
<span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">$</span>;
</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_protseduuride_loomine"><a class="anchor" href="#_protseduuride_loomine"></a><a class="link" href="#_protseduuride_loomine">5.1.4. Protseduuride loomine</a></h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="sql"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td>
  <td class="code"><pre>
<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#080;font-weight:bold">OR</span> <span style="color:#B06;font-weight:bold">REPLACE</span> <span style="color:#339;font-weight:bold">PROCEDURE</span> sp_lisa_vastuolu(
    aluskirje_in <span style="color:#0a8;font-weight:bold">integer</span>,
    liituv_kirje_in <span style="color:#0a8;font-weight:bold">integer</span>,
    marc_vali_in <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">16</span>),
    alamvali_in <span style="color:#0a8;font-weight:bold">char</span>(<span style="color:#00D">1</span>),
    info_in jsonb,
    vastuolu_out OUT <span style="color:#0a8;font-weight:bold">integer</span>
)
    LANGUAGE plpgsql
<span style="color:#080;font-weight:bold">AS</span>
<span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">$</span>
DECLARE
    rid <span style="color:#0a8;font-weight:bold">smallint</span>;
    pid <span style="color:#0a8;font-weight:bold">integer</span>;
<span style="color:#B06;font-weight:bold">BEGIN</span>
    <span style="color:#B06;font-weight:bold">SELECT</span> paar_id <span style="color:#B06;font-weight:bold">INTO</span> pid <span style="color:#080;font-weight:bold">FROM</span> paar p <span style="color:#080;font-weight:bold">WHERE</span> p.aluskirje = aluskirje_in <span style="color:#080;font-weight:bold">AND</span> p.liituv_kirje = liituv_kirje_in;
    <span style="color:#B06;font-weight:bold">SELECT</span> reegel_id <span style="color:#B06;font-weight:bold">INTO</span> rid <span style="color:#080;font-weight:bold">FROM</span> reegel r <span style="color:#080;font-weight:bold">WHERE</span> r.marc_vali = marc_vali_in <span style="color:#080;font-weight:bold">AND</span> r.alamvali = alamvali_in;

    <span style="color:#B06;font-weight:bold">INSERT</span> <span style="color:#B06;font-weight:bold">INTO</span> vastuolu(reegel_id, paar_id, info)
    <span style="color:#080;font-weight:bold">VALUES</span> (rid, pid, info_in)
    RETURNING vastuolu_id <span style="color:#B06;font-weight:bold">INTO</span> vastuolu_out;
<span style="color:#080;font-weight:bold">END</span>
<span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">$</span>;

<span style="color:#B06;font-weight:bold">CREATE</span> <span style="color:#080;font-weight:bold">OR</span> <span style="color:#B06;font-weight:bold">REPLACE</span> <span style="color:#339;font-weight:bold">PROCEDURE</span> sp_logi_tegevus(
    aluskirje_in <span style="color:#0a8;font-weight:bold">integer</span>,
    liituv_kirje_in <span style="color:#0a8;font-weight:bold">integer</span>,
    kasutajanimi_in <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">255</span>),
    tegevuse_nimi_in <span style="color:#0a8;font-weight:bold">varchar</span>(<span style="color:#00D">64</span>),
    kommentaar_in <span style="color:#0a8;font-weight:bold">text</span>,
    tegevus_out OUT <span style="color:#0a8;font-weight:bold">integer</span>
)
    LANGUAGE plpgsql
<span style="color:#080;font-weight:bold">AS</span>
<span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">$</span>
DECLARE
    pid  <span style="color:#0a8;font-weight:bold">integer</span>;
    kid  <span style="color:#0a8;font-weight:bold">integer</span>;
    ttid <span style="color:#0a8;font-weight:bold">integer</span>;
<span style="color:#B06;font-weight:bold">BEGIN</span>
    <span style="color:#B06;font-weight:bold">SELECT</span> paar_id <span style="color:#B06;font-weight:bold">INTO</span> pid <span style="color:#080;font-weight:bold">FROM</span> paar p <span style="color:#080;font-weight:bold">WHERE</span> p.aluskirje = aluskirje_in <span style="color:#080;font-weight:bold">AND</span> p.liituv_kirje = liituv_kirje_in;
    <span style="color:#B06;font-weight:bold">SELECT</span> kasutaja_id <span style="color:#B06;font-weight:bold">INTO</span> kid <span style="color:#080;font-weight:bold">FROM</span> kasutaja k <span style="color:#080;font-weight:bold">WHERE</span> k.kasutajanimi = kasutajanimi_in;
    <span style="color:#B06;font-weight:bold">SELECT</span> tegevusetyyp_id <span style="color:#B06;font-weight:bold">INTO</span> ttid <span style="color:#080;font-weight:bold">FROM</span> tegevusetyyp tt <span style="color:#080;font-weight:bold">WHERE</span> tt.nimi = tegevuse_nimi_in;

    <span style="color:#B06;font-weight:bold">INSERT</span> <span style="color:#B06;font-weight:bold">INTO</span> tegevus(paar_id, tegevusetyyp_id, kasutaja_id, kommentaar)
    <span style="color:#080;font-weight:bold">VALUES</span> (pid, ttid, kid, kommentaar_in)
    RETURNING tegevuse_id <span style="color:#B06;font-weight:bold">INTO</span> tegevus_out;
<span style="color:#080;font-weight:bold">END</span>
<span style="color:#F00;background-color:#FAA">$</span><span style="color:#F00;background-color:#FAA">$</span>;
</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_näidispäringud"><a class="anchor" href="#_näidispäringud"></a><a class="link" href="#_näidispäringud">5.2. Näidispäringud</a></h3>
<div class="sect3">
<h4 id="_teose_pealkirja_võrdlemise_reeglid"><a class="anchor" href="#_teose_pealkirja_võrdlemise_reeglid"></a><a class="link" href="#_teose_pealkirja_võrdlemise_reeglid">5.2.1. Teose pealkirja võrdlemise reeglid</a></h4>
<div class="sect4">
<h5 id="_kirjeldus"><a class="anchor" href="#_kirjeldus"></a><a class="link" href="#_kirjeldus">Kirjeldus</a></h5>
<div class="paragraph">
<p>Kuva mestimisreeglid, mis on seotud teose pealkirja võrdlemisega.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring"><a class="anchor" href="#_päring"></a><a class="link" href="#_päring">Päring</a></h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span style="color:#B06;font-weight:bold">SELECT</span> * <span style="color:#080;font-weight:bold">FROM</span> reegel <span style="color:#080;font-weight:bold">WHERE</span> marc_vali = <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">245</span><span style="color:#710">'</span></span>;</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt"><a class="anchor" href="#_ekraanipilt"></a><a class="link" href="#_ekraanipilt">Ekraanipilt</a></h5>
<div class="imageblock">
<div class="content">
<img src="../snips/pealkirja_võrdlemise_reeglid.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 3. Päringu 'Teose pealkirja võrdlemise reeglid' tulemus</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_vastuolud_autori_nimes"><a class="anchor" href="#_vastuolud_autori_nimes"></a><a class="link" href="#_vastuolud_autori_nimes">5.2.2. Vastuolud autori nimes</a></h4>
<div class="sect4">
<h5 id="_kirjeldus_2"><a class="anchor" href="#_kirjeldus_2"></a><a class="link" href="#_kirjeldus_2">Kirjeldus</a></h5>
<div class="paragraph">
<p>Kirjepaarid, kus on ainult üks vastuolu reeglitega ja see on väljal 100, mis on autori nimi.
Samas on ka piisavalt väikese Levensteini kaugusega<sup class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnotedef_15" title="View footnote.">15</a>]</sup>, et ühes kirjetest võiks olla trükiviga või puuduv patronüüm<sup class="footnote" id="_footnote_624591">[<a id="_footnoteref_16" class="footnote" href="#_footnotedef_16" title="View footnote.">16</a>]</sup>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring_2"><a class="anchor" href="#_päring_2"></a><a class="link" href="#_päring_2">Päring</a></h5>
<div class="paragraph">
<p>Vaate loomise päring on toodud lõigus <a href="#_vaadete_loomine">Vaadete loomine</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span style="color:#B06;font-weight:bold">SELECT</span> paar_id,
       aluskirje,
       liituv_kirje
<span style="color:#080;font-weight:bold">FROM</span> mv_paarid
<span style="color:#080;font-weight:bold">WHERE</span> kaugus &lt; <span style="color:#00D">20</span>                       <i class="conum" data-value="1"></i><b>(1)</b>
  <span style="color:#080;font-weight:bold">AND</span> vastuolude_arv = <span style="color:#00D">1</span>                <i class="conum" data-value="2"></i><b>(2)</b>
  <span style="color:#080;font-weight:bold">AND</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">100</span><span style="color:#710">'</span></span> = <span style="color:#080;font-weight:bold">ANY</span> (vastuoludega_valjad) <i class="conum" data-value="3"></i><b>(3)</b>
LIMIT <span style="color:#00D">5</span>;</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>veerus kaugus on kirjete Levensteini kaugus</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>ainult 1 vastuolu reeglitega</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>MARC väli 100</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt_2"><a class="anchor" href="#_ekraanipilt_2"></a><a class="link" href="#_ekraanipilt_2">Ekraanipilt</a></h5>
<div class="imageblock">
<div class="content">
<img src="../snips/autori_erinevus.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 4. Päringu 'Vastuolud autori nimes' tulemus</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_valitud_aluskirjega_liituvad_kirjed"><a class="anchor" href="#_valitud_aluskirjega_liituvad_kirjed"></a><a class="link" href="#_valitud_aluskirjega_liituvad_kirjed">5.2.3. Valitud aluskirjega liituvad kirjed</a></h4>
<div class="sect4">
<h5 id="_kirjeldus_3"><a class="anchor" href="#_kirjeldus_3"></a><a class="link" href="#_kirjeldus_3">Kirjeldus</a></h5>
<div class="paragraph">
<p>Vaata, millised kirjed võiksid liituda kirjega number 2639992 ning kas nende paaride mestimiskõlbulikkuse üle on otsustatud.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring_3"><a class="anchor" href="#_päring_3"></a><a class="link" href="#_päring_3">Päring</a></h5>
<div class="paragraph">
<p>Vaate loomise päring on toodud lõigus <a href="#_vaadete_loomine">Vaadete loomine</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span style="color:#B06;font-weight:bold">SELECT</span> paar_id,
       liituv_kirje,
       <span style="color:#080;font-weight:bold">CASE</span>
           <span style="color:#080;font-weight:bold">WHEN</span> sooritatud_tegevused &amp;&amp; ARRAY [<span style="color:#00D">1</span>::<span style="color:#0a8;font-weight:bold">smallint</span>, <span style="color:#00D">2</span>::<span style="color:#0a8;font-weight:bold">smallint</span>] <span style="color:#080;font-weight:bold">THEN</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">otsustatud</span><span style="color:#710">'</span></span>
           <span style="color:#080;font-weight:bold">ELSE</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">otsustamata</span><span style="color:#710">'</span></span> <span style="color:#080;font-weight:bold">END</span> <span style="color:#080;font-weight:bold">AS</span> kas_mestida
<span style="color:#080;font-weight:bold">FROM</span> v_tegevused
<span style="color:#080;font-weight:bold">WHERE</span> aluskirje = <span style="color:#00D">2639992</span>;</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt_3"><a class="anchor" href="#_ekraanipilt_3"></a><a class="link" href="#_ekraanipilt_3">Ekraanipilt</a></h5>
<div class="imageblock">
<div class="content">
<img src="../snips/aluskirjega_liituvad_kirjed.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 5. Päringu 'Valitud aluskirjega liituvad kirjed' tulemus</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_seotud_kirjed"><a class="anchor" href="#_seotud_kirjed"></a><a class="link" href="#_seotud_kirjed">5.2.4. Seotud kirjed</a></h4>
<div class="sect4">
<h5 id="_kirjeldus_4"><a class="anchor" href="#_kirjeldus_4"></a><a class="link" href="#_kirjeldus_4">Kirjeldus</a></h5>
<div class="paragraph">
<p>Funktsioon ehitab graafi kasutades paar tabelis olevat infot, alustades nendest servadest, kus sisendkirje on aluskirjeks.
Rekursiivse päringuga lisatakse juurde paare, milles on senileitud alus- või liituv kirje.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring_4"><a class="anchor" href="#_päring_4"></a><a class="link" href="#_päring_4">Päring</a></h5>
<div class="paragraph">
<p>Funktsiooni loomise päring on toodud lõigus <a href="#_funktsioonide_loomine">Funktsioonide loomine</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre><span style="color:#B06;font-weight:bold">SELECT</span> f_seotud_kirjed(<span style="color:#00D">3608503</span>);</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt_4"><a class="anchor" href="#_ekraanipilt_4"></a><a class="link" href="#_ekraanipilt_4">Ekraanipilt</a></h5>
<div class="imageblock">
<div class="content">
<img src="../snips/f_seotud_kirjed.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 6. Päringu 'Seotud kirjed' tulemus</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_seotud_paarid"><a class="anchor" href="#_seotud_paarid"></a><a class="link" href="#_seotud_paarid">5.2.5. Seotud paarid</a></h4>
<div class="sect4">
<h5 id="_kirjeldus_5"><a class="anchor" href="#_kirjeldus_5"></a><a class="link" href="#_kirjeldus_5">Kirjeldus</a></h5>
<div class="paragraph">
<p>Näita, millised potentsiaalsed mestimiskandidaadid on seotud kirjega number 3608503 ning kas nende osas on mingi otsus vastu võetud.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring_5"><a class="anchor" href="#_päring_5"></a><a class="link" href="#_päring_5">Päring</a></h5>
<div class="paragraph">
<p>Vaate loomise päring on toodud lõigus <a href="#_vaadete_loomine">Vaadete loomine</a>.</p>
</div>
<div class="paragraph">
<p>Funktsiooni loomise päring on toodud lõigus <a href="#_funktsioonide_loomine">Funktsioonide loomine</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span style="color:#B06;font-weight:bold">SELECT</span> mp.*, vt.kas_mestida
<span style="color:#080;font-weight:bold">FROM</span> mv_paarid mp
         <span style="color:#080;font-weight:bold">JOIN</span> f_seotud_kirjed(<span style="color:#00D">3608503</span>) fsk
              <span style="color:#080;font-weight:bold">ON</span> (mp.aluskirje = fsk.kirjenumber)
         <span style="color:#080;font-weight:bold">JOIN</span> v_tegevused vt <span style="color:#080;font-weight:bold">USING</span> (paar_id)
<span style="color:#080;font-weight:bold">WHERE</span> vastuolude_arv &lt;= <span style="color:#00D">1</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span style="color:#080;font-weight:bold">AND</span> sarnasus = <span style="color:#00D">1</span>
  <span style="color:#080;font-weight:bold">AND</span> ylekate &gt; <span style="color:#60E">0.99</span>
  <span style="color:#080;font-weight:bold">AND</span> kaugus &lt; <span style="color:#00D">10</span>;  <i class="conum" data-value="2"></i><b>(2)</b>
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>lubame ühe võimaliku valepositiivse vastuolu reeglitega</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>arvestame, et kirjes saab olla trükivigu ja lühendeid</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt_5"><a class="anchor" href="#_ekraanipilt_5"></a><a class="link" href="#_ekraanipilt_5">Ekraanipilt</a></h5>
<div class="paragraph">
<p>Päringu vastuses olevad andmed on transponeeritud.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../snips/seotud_paarid.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 7. Päringu 'Seotud paarid' tulemus</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_vastuolu_lisamine"><a class="anchor" href="#_vastuolu_lisamine"></a><a class="link" href="#_vastuolu_lisamine">5.2.6. Vastuolu lisamine</a></h4>
<div class="sect4">
<h5 id="_kirjeldus_6"><a class="anchor" href="#_kirjeldus_6"></a><a class="link" href="#_kirjeldus_6">Kirjeldus</a></h5>
<div class="paragraph">
<p>Kirjepaar, milles MARC välja 100 alamväli a sisaldab vastuolu mestimisreeglitega.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring_6"><a class="anchor" href="#_päring_6"></a><a class="link" href="#_päring_6">Päring</a></h5>
<div class="paragraph">
<p>Protseduuri loomise päring on toodud lõigus <a href="#_protseduuride_loomine">Protseduuride loomine</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre>CALL sp_lisa_vastuolu(<span style="color:#00D">2311204</span>, <span style="color:#00D">4205660</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">100</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">[
  &quot;RoehrichtKarlHermann&quot;,
  &quot;RoeherichtKarlHermann&quot;
]</span><span style="color:#710">'</span></span>::jsonb, <span style="color:#069">NULL</span>);</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt_6"><a class="anchor" href="#_ekraanipilt_6"></a><a class="link" href="#_ekraanipilt_6">Ekraanipilt</a></h5>
<div class="imageblock">
<div class="content">
<img src="../snips/sp_lisa_vastuolu.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 8. Päringu 'Vastuolu lisamine' tulemus</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tegevuse_logimine"><a class="anchor" href="#_tegevuse_logimine"></a><a class="link" href="#_tegevuse_logimine">5.2.7. Tegevuse logimine</a></h4>
<div class="sect4">
<h5 id="_kirjeldus_7"><a class="anchor" href="#_kirjeldus_7"></a><a class="link" href="#_kirjeldus_7">Kirjeldus</a></h5>
<div class="paragraph">
<p>Kasutaja 'ylo' lubas kirjete mestimise.</p>
</div>
</div>
<div class="sect4">
<h5 id="_päring_7"><a class="anchor" href="#_päring_7"></a><a class="link" href="#_päring_7">Päring</a></h5>
<div class="paragraph">
<p>Protseduuri loomise päring on toodud lõigus <a href="#_protseduuride_loomine">Protseduuride loomine</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="SQL"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>CALL sp_logi_tegevus(<span style="color:#00D">2312093</span>, <span style="color:#00D">3730553</span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">ylo</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">luba mestimine</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#710">'</span></span>, <span style="color:#069">NULL</span>);</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_ekraanipilt_7"><a class="anchor" href="#_ekraanipilt_7"></a><a class="link" href="#_ekraanipilt_7">Ekraanipilt</a></h5>
<div class="imageblock">
<div class="content">
<img src="../snips/sp_logi_tegevus.png" alt="Päringu tulemus">
</div>
<div class="title">Joonis 9. Päringu 'Tegevuse logimine' tulemus</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/bibliokirje/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/bibliokirje/1</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/elektronkataloog/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/elektronkataloog/1</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/eksemplar/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/eksemplar/1</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/integreeritud%20raamatukogus%C3%BCsteem/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/integreeritud%20raamatukogus%C3%BCsteem/1</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/rahvusvaheline%20raamatu%20standardnumber/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/rahvusvaheline%20raamatu%20standardnumber/1</a>
</div>
<div class="footnote" id="_footnotedef_6">
<a href="#_footnoteref_6">6</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/kataloog/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/kataloog/1</a>
</div>
<div class="footnote" id="_footnotedef_7">
<a href="#_footnoteref_7">7</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/kataloogima/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/kataloogima/1</a>
</div>
<div class="footnote" id="_footnotedef_8">
<a href="#_footnoteref_8">8</a>. <a href="https://web.archive.org/web/20101120212425/http://dilettantes.code4lib.org/blog/2010/09/a-proposal-to-serialize-marc-in-json/" class="bare">https://web.archive.org/web/20101120212425/http://dilettantes.code4lib.org/blog/2010/09/a-proposal-to-serialize-marc-in-json/</a>
</div>
<div class="footnote" id="_footnotedef_9">
<a href="#_footnoteref_9">9</a>. <a href="https://www.loc.gov/marc/" class="bare">https://www.loc.gov/marc/</a>
</div>
<div class="footnote" id="_footnotedef_10">
<a href="#_footnoteref_10">10</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/mestima/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/mestima/1</a>
</div>
<div class="footnote" id="_footnotedef_11">
<a href="#_footnoteref_11">11</a>. <a href="https://www.kutseregister.ee/ctrl/et/Standardid/vaata/11094648" class="bare">https://www.kutseregister.ee/ctrl/et/Standardid/vaata/11094648</a>
</div>
<div class="footnote" id="_footnotedef_12">
<a href="#_footnoteref_12">12</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/raamatukoguhoidja/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/raamatukoguhoidja/1</a>
</div>
<div class="footnote" id="_footnotedef_13">
<a href="#_footnoteref_13">13</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/raamatukoguv%C3%B5rk/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/raamatukoguv%C3%B5rk/1</a>
</div>
<div class="footnote" id="_footnotedef_14">
<a href="#_footnoteref_14">14</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/teavik/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/teavik/1</a>
</div>
<div class="footnote" id="_footnotedef_15">
<a href="#_footnoteref_15">15</a>. <a href="https://et.wikipedia.org/wiki/Levenshteini_kaugus" class="bare">https://et.wikipedia.org/wiki/Levenshteini_kaugus</a>
</div>
<div class="footnote" id="_footnotedef_16">
<a href="#_footnoteref_16">16</a>. <a href="https://sonaveeb.ee/search/unif/dlall/rara/patron%C3%BC%C3%BCm/1" class="bare">https://sonaveeb.ee/search/unif/dlall/rara/patron%C3%BC%C3%BCm/1</a>
</div>
</div>
</body>
</html>